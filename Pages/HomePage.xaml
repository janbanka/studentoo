<Page x:Class="studentoo.HomePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="clr-namespace:studentoo"
      Title="HomePage" Height="Auto" Width="Auto">

    <Grid Background="#FFF5F5F5">
        <ItemsControl x:Name="UsersCardsContainer" Margin="20">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel HorizontalAlignment="Center" VerticalAlignment="Top"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <StackPanel Margin="15" HorizontalAlignment="Center">
                        <!-- Karta użytkownika -->
                        <Border Background="White" CornerRadius="15"
                                Width="320" Height="480"
                                BorderBrush="#E0E0E0" BorderThickness="1">
                            <Grid>
                                <!-- Zdjęcie -->
                                <Grid>
                                    <Image Stretch="UniformToFill">
                                        <Image.Source>
                                            <Binding Path="PhotoImage">
                                                <Binding.FallbackValue>
                                                    <BitmapImage UriSource="pack://application:,,,/assets/defaultImage.jpg"/>
                                                </Binding.FallbackValue>
                                            </Binding>
                                        </Image.Source>
                                    </Image>
                                    <Rectangle Fill="#40000000" RadiusX="15" RadiusY="15"/>
                                </Grid>

                                <!-- Informacje -->
                                <Border Background="Transparent" CornerRadius="0,0,15,15"
                                        VerticalAlignment="Bottom" Height="140">
                                    <Grid>
                                        <Rectangle Fill="#80000000" RadiusX="15" RadiusY="15"/>
                                        <StackPanel Margin="20,15" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding name}"
                                                       Foreground="White"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>

                                            <TextBlock Text="{Binding age}"
                                                       Foreground="#FFFE3C72"
                                                       FontSize="18"
                                                       Margin="0,5,0,0"/>

                                            <TextBlock Text="{Binding description}"
                                                       Foreground="#CCFFFFFF"
                                                       FontSize="14"
                                                       Margin="0,10,0,0"
                                                       TextWrapping="Wrap"
                                                       MaxHeight="60"
                                                       TextTrimming="CharacterEllipsis"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>

                        <!-- Przycisk poniżej karty -->
                        <Button Content="Zobacz profil"
                                Width="180"
                                Height="40"
                                Margin="0,10,0,0"
                                Background="#FFFE3C72"
                                Foreground="White"
                                FontSize="14"
                                FontWeight="SemiBold"
                                BorderThickness="0"
                                Click="ViewProfile_Click"
                                Tag="{Binding id}">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            CornerRadius="20"
                                            Padding="10,5">
                                        <ContentPresenter HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </StackPanel>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</Page>
